<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì˜¤í”„ë¼ì¸ - ClearNet</title>
    
    <!-- PWA ë©”íƒ€íƒœê·¸ -->
    <meta name="theme-color" content="#1F2937">
    <meta name="description" content="ClearNet ì˜¤í”„ë¼ì¸ í˜ì´ì§€">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- í°íŠ¸ -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- ì•„ì´ì½˜ -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
    
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        
        .offline-animation {
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        
        .connection-indicator {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 8px;
            animation: blink 1.5s infinite;
        }
        
        @keyframes blink {
            0%, 50% { background-color: #ef4444; }
            51%, 100% { background-color: #fca5a5; }
        }
        
        .retry-button {
            transition: all 0.3s ease;
            transform: scale(1);
        }
        
        .retry-button:hover {
            transform: scale(1.05);
        }
        
        .retry-button:active {
            transform: scale(0.95);
        }
        
        .offline-features {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-in-out;
        }
        
        .offline-features.expanded {
            max-height: 500px;
        }
    </style>
</head>
<body class="bg-gradient-to-br from-gray-50 to-gray-100 min-h-screen">
    
    <!-- í—¤ë” -->
    <header class="bg-white shadow-sm border-b border-gray-200">
        <div class="max-w-4xl mx-auto px-4 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center">
                    <i class="fas fa-shield-alt text-2xl text-blue-600 mr-3"></i>
                    <h1 class="text-xl font-bold text-gray-900">ClearNet</h1>
                </div>
                
                <!-- ì—°ê²° ìƒíƒœ í‘œì‹œ -->
                <div class="flex items-center">
                    <div class="connection-indicator"></div>
                    <span class="text-sm text-gray-600">ì˜¤í”„ë¼ì¸</span>
                </div>
            </div>
        </div>
    </header>

    <!-- ë©”ì¸ ì½˜í…ì¸  -->
    <main class="max-w-4xl mx-auto px-4 py-12">
        <div class="text-center mb-12">
            
            <!-- ì˜¤í”„ë¼ì¸ ì•„ì´ì½˜ -->
            <div class="offline-animation mb-8">
                <i class="fas fa-wifi text-6xl text-gray-400 mb-4"></i>
                <div class="relative">
                    <i class="fas fa-slash text-4xl text-red-500 absolute -top-2 left-1/2 transform -translate-x-1/2"></i>
                </div>
            </div>
            
            <!-- ë©”ì¸ ë©”ì‹œì§€ -->
            <h2 class="text-3xl font-bold text-gray-900 mb-4">
                ì¸í„°ë„· ì—°ê²°ì´ ëŠì–´ì¡ŒìŠµë‹ˆë‹¤
            </h2>
            
            <p class="text-lg text-gray-600 mb-8 max-w-2xl mx-auto">
                í˜„ì¬ ì¸í„°ë„·ì— ì—°ê²°ë˜ì–´ ìˆì§€ ì•ŠìŠµë‹ˆë‹¤. 
                <br>ì—°ê²°ì´ ë³µì›ë˜ë©´ ìë™ìœ¼ë¡œ ì˜¨ë¼ì¸ ê¸°ëŠ¥ì´ í™œì„±í™”ë©ë‹ˆë‹¤.
            </p>
            
            <!-- ì¬ì‹œë„ ë²„íŠ¼ -->
            <button id="retryConnection" 
                    class="retry-button bg-blue-600 text-white px-8 py-3 rounded-lg hover:bg-blue-700 font-medium shadow-lg">
                <i class="fas fa-sync-alt mr-2"></i>
                ì—°ê²° ë‹¤ì‹œ ì‹œë„
            </button>
        </div>

        <!-- ì˜¤í”„ë¼ì¸ ê¸°ëŠ¥ ì„¹ì…˜ -->
        <div class="bg-white rounded-xl shadow-lg p-8 mb-8">
            <div class="flex items-center justify-between mb-6 cursor-pointer" id="offlineFeaturesToggle">
                <h3 class="text-xl font-semibold text-gray-900">
                    <i class="fas fa-laptop text-blue-600 mr-3"></i>
                    ì˜¤í”„ë¼ì¸ì—ì„œë„ ì‚¬ìš© ê°€ëŠ¥í•œ ê¸°ëŠ¥
                </h3>
                <i class="fas fa-chevron-down text-gray-400 transform transition-transform duration-300" id="toggleIcon"></i>
            </div>
            
            <div class="offline-features" id="offlineFeatures">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    
                    <!-- ë¡œì»¬ ìŠ¤ìº” -->
                    <div class="flex items-start space-x-4">
                        <div class="flex-shrink-0">
                            <div class="w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center">
                                <i class="fas fa-search text-green-600"></i>
                            </div>
                        </div>
                        <div>
                            <h4 class="font-semibold text-gray-900 mb-2">ë¡œì»¬ URL ë¶„ì„</h4>
                            <p class="text-gray-600 text-sm">
                                ê¸°ë³¸ì ì¸ URL íŒ¨í„´ ë¶„ì„ê³¼ ìœ„í—˜ë„ í‰ê°€ëŠ” ì˜¤í”„ë¼ì¸ì—ì„œë„ ê°€ëŠ¥í•©ë‹ˆë‹¤.
                            </p>
                        </div>
                    </div>
                    
                    <!-- ìŠ¤ìº” ê¸°ë¡ ì¡°íšŒ -->
                    <div class="flex items-start space-x-4">
                        <div class="flex-shrink-0">
                            <div class="w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center">
                                <i class="fas fa-history text-blue-600"></i>
                            </div>
                        </div>
                        <div>
                            <h4 class="font-semibold text-gray-900 mb-2">ìŠ¤ìº” ê¸°ë¡ ì¡°íšŒ</h4>
                            <p class="text-gray-600 text-sm">
                                ì´ì „ì— ìŠ¤ìº”í–ˆë˜ URLë“¤ì˜ ê¸°ë¡ì„ ë¡œì»¬ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                            </p>
                        </div>
                    </div>
                    
                    <!-- ì„¤ì • ê´€ë¦¬ -->
                    <div class="flex items-start space-x-4">
                        <div class="flex-shrink-0">
                            <div class="w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center">
                                <i class="fas fa-cog text-purple-600"></i>
                            </div>
                        </div>
                        <div>
                            <h4 class="font-semibold text-gray-900 mb-2">ì„¤ì • ê´€ë¦¬</h4>
                            <p class="text-gray-600 text-sm">
                                ì•± ì„¤ì •ê³¼ ì‚¬ìš©ì í™˜ê²½ì„¤ì •ì„ ì˜¤í”„ë¼ì¸ì—ì„œë„ ë³€ê²½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                            </p>
                        </div>
                    </div>
                    
                    <!-- ë„ì›€ë§ -->
                    <div class="flex items-start space-x-4">
                        <div class="flex-shrink-0">
                            <div class="w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center">
                                <i class="fas fa-question-circle text-yellow-600"></i>
                            </div>
                        </div>
                        <div>
                            <h4 class="font-semibold text-gray-900 mb-2">ë„ì›€ë§ ë° ê°€ì´ë“œ</h4>
                            <p class="text-gray-600 text-sm">
                                ìºì‹œëœ ë„ì›€ë§ ë¬¸ì„œì™€ ì‚¬ìš© ê°€ì´ë“œë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                            </p>
                        </div>
                    </div>
                </div>
                
                <!-- ì˜¤í”„ë¼ì¸ ë„êµ¬ -->
                <div class="mt-8 pt-6 border-t border-gray-200">
                    <h4 class="font-semibold text-gray-900 mb-4">ë¹ ë¥¸ ë„êµ¬</h4>
                    <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                        
                        <button id="offlineUrlCheck" 
                                class="bg-gray-50 hover:bg-gray-100 p-4 rounded-lg text-center transition-colors">
                            <i class="fas fa-link text-2xl text-blue-600 mb-2"></i>
                            <div class="text-sm font-medium text-gray-900">URL ê²€ì‚¬</div>
                        </button>
                        
                        <button id="viewHistory" 
                                class="bg-gray-50 hover:bg-gray-100 p-4 rounded-lg text-center transition-colors">
                            <i class="fas fa-clock text-2xl text-green-600 mb-2"></i>
                            <div class="text-sm font-medium text-gray-900">ê¸°ë¡ ë³´ê¸°</div>
                        </button>
                        
                        <button id="offlineSettings" 
                                class="bg-gray-50 hover:bg-gray-100 p-4 rounded-lg text-center transition-colors">
                            <i class="fas fa-sliders-h text-2xl text-purple-600 mb-2"></i>
                            <div class="text-sm font-medium text-gray-900">ì„¤ì •</div>
                        </button>
                        
                        <button id="offlineHelp" 
                                class="bg-gray-50 hover:bg-gray-100 p-4 rounded-lg text-center transition-colors">
                            <i class="fas fa-info-circle text-2xl text-yellow-600 mb-2"></i>
                            <div class="text-sm font-medium text-gray-900">ë„ì›€ë§</div>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- ì—°ê²° ìƒíƒœ ì •ë³´ -->
        <div class="bg-yellow-50 border border-yellow-200 rounded-lg p-6 mb-8">
            <div class="flex items-start">
                <i class="fas fa-exclamation-triangle text-yellow-600 mt-1 mr-3"></i>
                <div>
                    <h4 class="font-semibold text-yellow-800 mb-2">ì œí•œëœ ê¸°ëŠ¥</h4>
                    <p class="text-yellow-700 text-sm mb-3">
                        ì˜¤í”„ë¼ì¸ ìƒíƒœì—ì„œëŠ” ë‹¤ìŒ ê¸°ëŠ¥ë“¤ì„ ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤:
                    </p>
                    <ul class="text-yellow-700 text-sm space-y-1 ml-4">
                        <li>â€¢ ì‹¤ì‹œê°„ ìœ„í˜‘ ë°ì´í„°ë² ì´ìŠ¤ ì¡°íšŒ</li>
                        <li>â€¢ ìƒˆë¡œìš´ ì‚¬ê¸° ì‚¬ì´íŠ¸ ì‹ ê³ </li>
                        <li>â€¢ ì˜¨ë¼ì¸ í†µê³„ ë° ëŒ€ì‹œë³´ë“œ</li>
                        <li>â€¢ í´ë¼ìš°ë“œ ë™ê¸°í™”</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- íŒ ì„¹ì…˜ -->
        <div class="bg-blue-50 border border-blue-200 rounded-lg p-6">
            <div class="flex items-start">
                <i class="fas fa-lightbulb text-blue-600 mt-1 mr-3"></i>
                <div>
                    <h4 class="font-semibold text-blue-800 mb-2">ğŸ’¡ íŒ</h4>
                    <ul class="text-blue-700 text-sm space-y-2">
                        <li>â€¢ Wi-Fi ë˜ëŠ” ëª¨ë°”ì¼ ë°ì´í„° ì—°ê²°ì„ í™•ì¸í•˜ì„¸ìš”</li>
                        <li>â€¢ ë°©í™”ë²½ì´ë‚˜ ë³´ì•ˆ ì†Œí”„íŠ¸ì›¨ì–´ ì„¤ì •ì„ ì ê²€í•˜ì„¸ìš”</li>
                        <li>â€¢ ë¸Œë¼ìš°ì €ë¥¼ ìƒˆë¡œê³ ì¹¨í•˜ì—¬ ì—°ê²°ì„ ì¬ì‹œë„í•˜ì„¸ìš”</li>
                        <li>â€¢ ì—°ê²°ì´ ë³µì›ë˜ë©´ ëª¨ë“  ê¸°ëŠ¥ì´ ìë™ìœ¼ë¡œ í™œì„±í™”ë©ë‹ˆë‹¤</li>
                    </ul>
                </div>
            </div>
        </div>
    </main>

    <!-- í‘¸í„° -->
    <footer class="bg-white border-t border-gray-200 mt-12">
        <div class="max-w-4xl mx-auto px-4 py-6">
            <div class="text-center text-gray-600 text-sm">
                <p>&copy; 2024 ClearNet. ì˜¨ë¼ì¸ ë³´ì•ˆì„ ìœ„í•œ ìŠ¤ë§ˆíŠ¸ ì†”ë£¨ì…˜</p>
                <p class="mt-1">ì˜¤í”„ë¼ì¸ ëª¨ë“œì—ì„œ ì‹¤í–‰ ì¤‘</p>
            </div>
        </div>
    </footer>

    <!-- ì˜¤í”„ë¼ì¸ URL ê²€ì‚¬ ëª¨ë‹¬ -->
    <div id="offlineUrlModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50" style="display: none;">
        <div class="bg-white rounded-lg shadow-xl max-w-md w-full mx-4">
            <div class="p-6">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="text-lg font-semibold text-gray-900">ì˜¤í”„ë¼ì¸ URL ê²€ì‚¬</h3>
                    <button id="closeUrlModal" class="text-gray-400 hover:text-gray-600">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                
                <div class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">URL ì…ë ¥</label>
                        <input type="url" id="offlineUrlInput" 
                               class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                               placeholder="ê²€ì‚¬í•  URLì„ ì…ë ¥í•˜ì„¸ìš”">
                    </div>
                    
                    <div id="offlineUrlResult" class="hidden">
                        <!-- ê²°ê³¼ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
                    </div>
                    
                    <div class="flex space-x-3">
                        <button id="checkOfflineUrl" 
                                class="flex-1 bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition-colors">
                            ê²€ì‚¬í•˜ê¸°
                        </button>
                        <button id="cancelUrlCheck" 
                                class="flex-1 bg-gray-300 text-gray-700 py-2 rounded-lg hover:bg-gray-400 transition-colors">
                            ì·¨ì†Œ
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ì˜¤í”„ë¼ì¸ í˜ì´ì§€ JavaScript
        class OfflineManager {
            constructor() {
                this.init();
            }

            init() {
                this.setupEventListeners();
                this.checkConnectionPeriodically();
                this.loadOfflineData();
            }

            setupEventListeners() {
                // ì—°ê²° ì¬ì‹œë„ ë²„íŠ¼
                document.getElementById('retryConnection').addEventListener('click', () => {
                    this.retryConnection();
                });

                // ì˜¤í”„ë¼ì¸ ê¸°ëŠ¥ í† ê¸€
                document.getElementById('offlineFeaturesToggle').addEventListener('click', () => {
                    this.toggleOfflineFeatures();
                });

                // ì˜¤í”„ë¼ì¸ ë„êµ¬ë“¤
                document.getElementById('offlineUrlCheck').addEventListener('click', () => {
                    this.showUrlCheckModal();
                });

                document.getElementById('viewHistory').addEventListener('click', () => {
                    this.showHistory();
                });

                document.getElementById('offlineSettings').addEventListener('click', () => {
                    this.showSettings();
                });

                document.getElementById('offlineHelp').addEventListener('click', () => {
                    this.showHelp();
                });

                // ëª¨ë‹¬ ê´€ë ¨
                document.getElementById('closeUrlModal').addEventListener('click', () => {
                    this.hideUrlCheckModal();
                });

                document.getElementById('cancelUrlCheck').addEventListener('click', () => {
                    this.hideUrlCheckModal();
                });

                document.getElementById('checkOfflineUrl').addEventListener('click', () => {
                    this.checkUrlOffline();
                });

                // ì˜¨ë¼ì¸ ìƒíƒœ ê°ì§€
                window.addEventListener('online', () => {
                    this.handleOnline();
                });

                window.addEventListener('offline', () => {
                    this.handleOffline();
                });
            }

            retryConnection() {
                const button = document.getElementById('retryConnection');
                button.disabled = true;
                button.innerHTML = '<i class="fas fa-spinner fa-spin mr-2"></i>ì—°ê²° í™•ì¸ ì¤‘...';

                // ì—°ê²° í…ŒìŠ¤íŠ¸
                fetch('/', { method: 'HEAD', cache: 'no-cache' })
                    .then(() => {
                        // ì˜¨ë¼ì¸ ìƒíƒœë¡œ ì „í™˜
                        window.location.href = '/';
                    })
                    .catch(() => {
                        // ì—¬ì „íˆ ì˜¤í”„ë¼ì¸
                        setTimeout(() => {
                            button.disabled = false;
                            button.innerHTML = '<i class="fas fa-sync-alt mr-2"></i>ì—°ê²° ë‹¤ì‹œ ì‹œë„';
                        }, 1000);
                    });
            }

            toggleOfflineFeatures() {
                const features = document.getElementById('offlineFeatures');
                const icon = document.getElementById('toggleIcon');
                
                features.classList.toggle('expanded');
                icon.classList.toggle('rotate-180');
            }

            showUrlCheckModal() {
                document.getElementById('offlineUrlModal').style.display = 'flex';
            }

            hideUrlCheckModal() {
                document.getElementById('offlineUrlModal').style.display = 'none';
                document.getElementById('offlineUrlInput').value = '';
                document.getElementById('offlineUrlResult').classList.add('hidden');
            }

            checkUrlOffline() {
                const url = document.getElementById('offlineUrlInput').value;
                const resultDiv = document.getElementById('offlineUrlResult');
                
                if (!url) {
                    alert('URLì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                    return;
                }

                // ê¸°ë³¸ì ì¸ ì˜¤í”„ë¼ì¸ URL ê²€ì‚¬
                const result = this.basicUrlAnalysis(url);
                
                resultDiv.innerHTML = `
                    <div class="p-3 bg-gray-50 rounded border">
                        <div class="font-medium mb-2">ê¸°ë³¸ ë¶„ì„ ê²°ê³¼</div>
                        <div class="text-sm text-gray-600">
                            ${result.message}
                        </div>
                        <div class="mt-2 text-xs text-yellow-600">
                            * ì˜¤í”„ë¼ì¸ ëª¨ë“œì—ì„œëŠ” ì œí•œëœ ë¶„ì„ë§Œ ê°€ëŠ¥í•©ë‹ˆë‹¤
                        </div>
                    </div>
                `;
                
                resultDiv.classList.remove('hidden');
            }

            basicUrlAnalysis(url) {
                try {
                    const urlObj = new URL(url);
                    let suspiciousPatterns = 0;
                    let warnings = [];

                    // ê¸°ë³¸ íŒ¨í„´ ê²€ì‚¬
                    if (urlObj.protocol !== 'https:') {
                        suspiciousPatterns++;
                        warnings.push('HTTP ì—°ê²° (ë¹„ë³´ì•ˆ)');
                    }

                    if (urlObj.hostname.includes('bit.ly') || urlObj.hostname.includes('tinyurl')) {
                        suspiciousPatterns++;
                        warnings.push('ë‹¨ì¶• URL ì‚¬ìš©');
                    }

                    if (urlObj.hostname.match(/\d+\.\d+\.\d+\.\d+/)) {
                        suspiciousPatterns++;
                        warnings.push('IP ì£¼ì†Œ ì§ì ‘ ì‚¬ìš©');
                    }

                    let message = '';
                    if (suspiciousPatterns === 0) {
                        message = 'ê¸°ë³¸ ê²€ì‚¬ì—ì„œ ëª…ë°±í•œ ìœ„í—˜ ìš”ì†Œê°€ ë°œê²¬ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.';
                    } else {
                        message = `${suspiciousPatterns}ê°œì˜ ì£¼ì˜ì‚¬í•­ì´ ë°œê²¬ë˜ì—ˆìŠµë‹ˆë‹¤: ${warnings.join(', ')}`;
                    }

                    return { message, suspiciousPatterns };
                } catch {
                    return { message: 'ìœ íš¨í•˜ì§€ ì•Šì€ URLì…ë‹ˆë‹¤.', suspiciousPatterns: 0 };
                }
            }

            showHistory() {
                // ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì—ì„œ ê¸°ë¡ ë¡œë“œ
                const history = JSON.parse(localStorage.getItem('clearnet_scans') || '[]');
                
                if (history.length === 0) {
                    alert('ì €ì¥ëœ ìŠ¤ìº” ê¸°ë¡ì´ ì—†ìŠµë‹ˆë‹¤.');
                    return;
                }

                const recent = history.slice(-10).reverse();
                const historyHtml = recent.map(scan => `
                    <div class="border-b pb-2 mb-2">
                        <div class="font-medium text-sm">${scan.url}</div>
                        <div class="text-xs text-gray-600">
                            ìœ„í—˜ë„: ${scan.risk_score}ì  | 
                            ${new Date(scan.scan_timestamp).toLocaleString('ko-KR')}
                        </div>
                    </div>
                `).join('');

                alert('ìµœê·¼ ìŠ¤ìº” ê¸°ë¡ (ìµœëŒ€ 10ê°œ):\n\n' + recent.map(scan => 
                    `${scan.url} (${scan.risk_score}ì )`
                ).join('\n'));
            }

            showSettings() {
                alert('ì˜¤í”„ë¼ì¸ ì„¤ì • ê¸°ëŠ¥ì€ ê°œë°œ ì¤‘ì…ë‹ˆë‹¤.');
            }

            showHelp() {
                alert('ClearNet ë„ì›€ë§\n\n' + 
                      'â€¢ URL ê²€ì‚¬: ì˜ì‹¬ìŠ¤ëŸ¬ìš´ ë§í¬ì˜ ì•ˆì „ì„±ì„ í™•ì¸\n' +
                      'â€¢ ì‹¤ì‹œê°„ ë³´í˜¸: ì•…ì„± ì‚¬ì´íŠ¸ ìë™ ì°¨ë‹¨\n' +
                      'â€¢ ì‹ ê³  ê¸°ëŠ¥: ìƒˆë¡œìš´ ìœ„í˜‘ ì‹ ê³ \n\n' +
                      'ì˜¨ë¼ì¸ ìƒíƒœì—ì„œ ë” ë§ì€ ê¸°ëŠ¥ì„ ì´ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.');
            }

            checkConnectionPeriodically() {
                // 30ì´ˆë§ˆë‹¤ ì—°ê²° ìƒíƒœ í™•ì¸
                setInterval(() => {
                    if (navigator.onLine) {
                        fetch('/', { method: 'HEAD', cache: 'no-cache' })
                            .then(() => {
                                // ì˜¨ë¼ì¸ìœ¼ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸
                                window.location.href = '/';
                            })
                            .catch(() => {
                                // ì—¬ì „íˆ ì˜¤í”„ë¼ì¸
                            });
                    }
                }, 30000);
            }

            loadOfflineData() {
                // ì˜¤í”„ë¼ì¸ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ë°ì´í„° ë¡œë“œ
                console.log('ì˜¤í”„ë¼ì¸ ë°ì´í„° ë¡œë“œ ì™„ë£Œ');
            }

            handleOnline() {
                // ì˜¨ë¼ì¸ ìƒíƒœë¡œ ë³µê·€
                window.location.href = '/';
            }

            handleOffline() {
                // ì˜¤í”„ë¼ì¸ ìƒíƒœ ì²˜ë¦¬
                console.log('ì˜¤í”„ë¼ì¸ ìƒíƒœ ê°ì§€');
            }
        }

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì´ˆê¸°í™”
        document.addEventListener('DOMContentLoaded', () => {
            new OfflineManager();
        });
    </script>
</body>
</html>
