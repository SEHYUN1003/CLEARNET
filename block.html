<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ìœ„í—˜í•œ ì‚¬ì´íŠ¸ ì°¨ë‹¨ë¨ - ClearNet</title>
    
    <!-- PWA ë©”íƒ€íƒœê·¸ -->
    <meta name="theme-color" content="#DC2626">
    <meta name="description" content="ClearNetì— ì˜í•´ ìœ„í—˜í•œ ì‚¬ì´íŠ¸ê°€ ì°¨ë‹¨ë˜ì—ˆìŠµë‹ˆë‹¤">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- í°íŠ¸ -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- ì•„ì´ì½˜ -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
    
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        
        .danger-pulse {
            animation: danger-pulse 2s infinite;
        }
        
        @keyframes danger-pulse {
            0%, 100% { 
                transform: scale(1);
                opacity: 1;
            }
            50% { 
                transform: scale(1.05);
                opacity: 0.8;
            }
        }
        
        .warning-blink {
            animation: warning-blink 1s infinite;
        }
        
        @keyframes warning-blink {
            0%, 50% { background-color: #DC2626; }
            51%, 100% { background-color: #EF4444; }
        }
        
        .slide-in-top {
            animation: slide-in-top 0.5s ease-out;
        }
        
        @keyframes slide-in-top {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .bounce-in {
            animation: bounce-in 0.8s ease-out;
        }
        
        @keyframes bounce-in {
            0% {
                transform: scale(0.3);
                opacity: 0;
            }
            50% {
                transform: scale(1.05);
                opacity: 0.8;
            }
            70% {
                transform: scale(0.9);
                opacity: 0.9;
            }
            100% {
                transform: scale(1);
                opacity: 1;
            }
        }
        
        .progress-bar {
            width: 0%;
            transition: width 0.3s ease;
        }
        
        .threat-level-critical {
            background: linear-gradient(135deg, #DC2626, #B91C1C);
        }
        
        .threat-level-high {
            background: linear-gradient(135deg, #EA580C, #DC2626);
        }
        
        .threat-level-medium {
            background: linear-gradient(135deg, #D97706, #EA580C);
        }
    </style>
</head>
<body class="bg-red-50 min-h-screen">
    
    <!-- ê²½ê³  í—¤ë” -->
    <header class="warning-blink text-white py-3">
        <div class="max-w-4xl mx-auto px-4">
            <div class="flex items-center justify-center">
                <i class="fas fa-exclamation-triangle mr-2"></i>
                <span class="font-bold text-sm">âš ï¸ ìœ„í—˜í•œ ì‚¬ì´íŠ¸ê°€ ì°¨ë‹¨ë˜ì—ˆìŠµë‹ˆë‹¤ âš ï¸</span>
                <i class="fas fa-exclamation-triangle ml-2"></i>
            </div>
        </div>
    </header>

    <!-- ë©”ì¸ ì½˜í…ì¸  -->
    <main class="max-w-4xl mx-auto px-4 py-8">
        
        <!-- ì°¨ë‹¨ ì•Œë¦¼ ì¹´ë“œ -->
        <div class="slide-in-top bg-white rounded-xl shadow-2xl border-2 border-red-200 overflow-hidden mb-8">
            
            <!-- í—¤ë” ì„¹ì…˜ -->
            <div class="bg-red-600 text-white p-6 text-center">
                <div class="bounce-in">
                    <i class="fas fa-shield-alt text-6xl mb-4 danger-pulse"></i>
                    <h1 class="text-3xl font-bold mb-2">ì‚¬ì´íŠ¸ ì ‘ê·¼ ì°¨ë‹¨</h1>
                    <p class="text-red-100">ClearNetì´ ê·€í•˜ì˜ ë³´ì•ˆì„ ìœ„í•´ ì´ ì‚¬ì´íŠ¸ë¥¼ ì°¨ë‹¨í–ˆìŠµë‹ˆë‹¤</p>
                </div>
            </div>
            
            <!-- ìœ„í—˜ ì •ë³´ ì„¹ì…˜ -->
            <div class="p-8">
                <div class="text-center mb-8">
                    <div class="inline-flex items-center px-4 py-2 bg-red-100 text-red-800 rounded-full text-sm font-semibold mb-4">
                        <i class="fas fa-exclamation-circle mr-2"></i>
                        <span id="threatLevel">ë†’ì€ ìœ„í—˜ë„</span>
                    </div>
                    
                    <h2 class="text-xl font-bold text-gray-900 mb-4">ì°¨ë‹¨ëœ ì‚¬ì´íŠ¸</h2>
                    <div class="bg-gray-100 rounded-lg p-4 mb-6">
                        <div class="flex items-center justify-center space-x-2">
                            <i class="fas fa-link text-gray-500"></i>
                            <code id="blockedUrl" class="text-red-600 font-mono break-all">
                                <!-- URLì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
                            </code>
                        </div>
                    </div>
                </div>
                
                <!-- ìœ„í—˜ ìš”ì†Œ -->
                <div class="bg-red-50 border border-red-200 rounded-lg p-6 mb-6">
                    <h3 class="font-bold text-red-800 mb-4 flex items-center">
                        <i class="fas fa-exclamation-triangle mr-2"></i>
                        ë°œê²¬ëœ ìœ„í—˜ ìš”ì†Œ
                    </h3>
                    <div id="riskFactors" class="space-y-2">
                        <!-- ìœ„í—˜ ìš”ì†Œë“¤ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
                    </div>
                </div>
                
                <!-- ìœ„í—˜ë„ ê²Œì´ì§€ -->
                <div class="mb-8">
                    <h3 class="font-bold text-gray-900 mb-4 text-center">ìœ„í—˜ë„ í‰ê°€</h3>
                    <div class="relative">
                        <div class="w-full bg-gray-200 rounded-full h-6">
                            <div id="riskMeter" class="progress-bar h-6 rounded-full flex items-center justify-end pr-2">
                                <span id="riskScore" class="text-white text-sm font-bold"></span>
                            </div>
                        </div>
                        <div class="flex justify-between text-xs text-gray-600 mt-1">
                            <span>ì•ˆì „</span>
                            <span>ë³´í†µ</span>
                            <span>ìœ„í—˜</span>
                            <span>ë§¤ìš° ìœ„í—˜</span>
                        </div>
                    </div>
                </div>
                
                <!-- ë³´ì•ˆ ê¶Œì¥ì‚¬í•­ -->
                <div class="bg-blue-50 border border-blue-200 rounded-lg p-6 mb-8">
                    <h3 class="font-bold text-blue-800 mb-4 flex items-center">
                        <i class="fas fa-info-circle mr-2"></i>
                        ë³´ì•ˆ ê¶Œì¥ì‚¬í•­
                    </h3>
                    <ul class="text-blue-700 space-y-2 text-sm">
                        <li class="flex items-start">
                            <i class="fas fa-check-circle text-blue-500 mr-2 mt-0.5"></i>
                            <span>ì´ ì‚¬ì´íŠ¸ë¥¼ ë°©ë¬¸í•˜ì§€ ë§ˆì„¸ìš”</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fas fa-check-circle text-blue-500 mr-2 mt-0.5"></i>
                            <span>ê°œì¸ì •ë³´ë‚˜ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì§€ ë§ˆì„¸ìš”</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fas fa-check-circle text-blue-500 mr-2 mt-0.5"></i>
                            <span>ì˜ì‹¬ìŠ¤ëŸ¬ìš´ íŒŒì¼ì„ ë‹¤ìš´ë¡œë“œí•˜ì§€ ë§ˆì„¸ìš”</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fas fa-check-circle text-blue-500 mr-2 mt-0.5"></i>
                            <span>ì•ˆì „í•œ ì‚¬ì´íŠ¸ë¡œ ì´ë™í•˜ì„¸ìš”</span>
                        </li>
                    </ul>
                </div>
                
                <!-- ì•¡ì…˜ ë²„íŠ¼ë“¤ -->
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                    
                    <!-- ì•ˆì „í•œ ê³³ìœ¼ë¡œ ëŒì•„ê°€ê¸° -->
                    <button id="goBack" 
                            class="bg-green-600 text-white py-3 px-6 rounded-lg hover:bg-green-700 transition-colors font-medium flex items-center justify-center">
                        <i class="fas fa-arrow-left mr-2"></i>
                        ì•ˆì „í•˜ê²Œ ëŒì•„ê°€ê¸°
                    </button>
                    
                    <!-- í™ˆí˜ì´ì§€ë¡œ ì´ë™ -->
                    <button id="goHome" 
                            class="bg-blue-600 text-white py-3 px-6 rounded-lg hover:bg-blue-700 transition-colors font-medium flex items-center justify-center">
                        <i class="fas fa-home mr-2"></i>
                        í™ˆí˜ì´ì§€ë¡œ
                    </button>
                    
                    <!-- ì‚¬ì´íŠ¸ ì‹ ê³  -->
                    <button id="reportSite" 
                            class="bg-orange-600 text-white py-3 px-6 rounded-lg hover:bg-orange-700 transition-colors font-medium flex items-center justify-center">
                        <i class="fas fa-flag mr-2"></i>
                        ì‚¬ì´íŠ¸ ì‹ ê³ 
                    </button>
                </div>
                
                <!-- ê³ ê¸‰ ì‚¬ìš©ì ì˜µì…˜ -->
                <div class="mt-8 pt-6 border-t border-gray-200">
                    <details class="group">
                        <summary class="cursor-pointer text-gray-600 hover:text-gray-800 text-sm font-medium flex items-center">
                            <i class="fas fa-cog mr-2"></i>
                            ê³ ê¸‰ ì˜µì…˜
                            <i class="fas fa-chevron-down ml-2 transform group-open:rotate-180 transition-transform"></i>
                        </summary>
                        
                        <div class="mt-4 space-y-4">
                            <!-- ê°•ì œ ì ‘ì† ê²½ê³  -->
                            <div class="bg-yellow-50 border border-yellow-200 rounded-lg p-4">
                                <div class="flex items-start">
                                    <i class="fas fa-exclamation-triangle text-yellow-600 mr-3 mt-1"></i>
                                    <div>
                                        <h4 class="font-semibold text-yellow-800 mb-2">âš ï¸ ìœ„í—˜ ì¸ì§€ í›„ ì ‘ì†</h4>
                                        <p class="text-yellow-700 text-sm mb-3">
                                            ëª¨ë“  ìœ„í—˜ì„ ì¸ì§€í•˜ê³ ë„ ì´ ì‚¬ì´íŠ¸ì— ì ‘ì†í•˜ì‹œê² ìŠµë‹ˆê¹Œ?<br>
                                            <strong>ê°œì¸ì •ë³´ ìœ ì¶œ, ì•…ì„±ì½”ë“œ ê°ì—¼, ê¸ˆìœµ í”¼í•´</strong> ë“±ì´ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                                        </p>
                                        
                                        <div class="space-y-2">
                                            <label class="flex items-center">
                                                <input type="checkbox" id="acknowledgeRisk" class="mr-2">
                                                <span class="text-sm text-yellow-800">ìœ„í—˜ì„ ì¶©ë¶„íˆ ì¸ì§€í–ˆìŠµë‹ˆë‹¤</span>
                                            </label>
                                            <label class="flex items-center">
                                                <input type="checkbox" id="acceptResponsibility" class="mr-2">
                                                <span class="text-sm text-yellow-800">ëª¨ë“  ì±…ì„ì€ ë³¸ì¸ì—ê²Œ ìˆìŠµë‹ˆë‹¤</span>
                                            </label>
                                        </div>
                                        
                                        <button id="proceedAnyway" 
                                                class="mt-3 bg-red-600 text-white px-4 py-2 rounded text-sm hover:bg-red-700 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed"
                                                disabled>
                                            <i class="fas fa-exclamation-triangle mr-1"></i>
                                            ìœ„í—˜ì„ ë¬´ë¦…ì“°ê³  ì ‘ì†
                                        </button>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- ì°¨ë‹¨ í•´ì œ ìš”ì²­ -->
                            <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                                <h4 class="font-semibold text-gray-800 mb-2">ğŸ¤” ì´ ì‚¬ì´íŠ¸ê°€ ì•ˆì „í•˜ë‹¤ê³  ìƒê°í•˜ì‹œë‚˜ìš”?</h4>
                                <p class="text-gray-600 text-sm mb-3">
                                    ì˜ëª»ëœ ì°¨ë‹¨ì´ë¼ê³  íŒë‹¨ë˜ì‹œë©´ ê²€í†  ìš”ì²­ì„ ë³´ë‚´ì£¼ì„¸ìš”.
                                </p>
                                <button id="requestReview" 
                                        class="bg-gray-600 text-white px-4 py-2 rounded text-sm hover:bg-gray-700 transition-colors">
                                    <i class="fas fa-search mr-1"></i>
                                    ì¬ê²€í†  ìš”ì²­
                                </button>
                            </div>
                        </div>
                    </details>
                </div>
            </div>
        </div>
        
        <!-- í†µê³„ ì •ë³´ -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
            
            <div class="bg-white rounded-lg shadow p-6 text-center">
                <i class="fas fa-shield-alt text-3xl text-green-600 mb-3"></i>
                <div class="text-2xl font-bold text-gray-900" id="totalBlocked">0</div>
                <div class="text-sm text-gray-600">ì´ ì°¨ë‹¨ëœ ì‚¬ì´íŠ¸</div>
            </div>
            
            <div class="bg-white rounded-lg shadow p-6 text-center">
                <i class="fas fa-users-shield text-3xl text-blue-600 mb-3"></i>
                <div class="text-2xl font-bold text-gray-900" id="usersProtected">0</div>
                <div class="text-sm text-gray-600">ë³´í˜¸ëœ ì‚¬ìš©ì</div>
            </div>
            
            <div class="bg-white rounded-lg shadow p-6 text-center">
                <i class="fas fa-clock text-3xl text-purple-600 mb-3"></i>
                <div class="text-2xl font-bold text-gray-900" id="todayBlocks">0</div>
                <div class="text-sm text-gray-600">ì˜¤ëŠ˜ ì°¨ë‹¨ ìˆ˜</div>
            </div>
        </div>
    </main>

    <!-- í‘¸í„° -->
    <footer class="bg-white border-t border-gray-200 py-6">
        <div class="max-w-4xl mx-auto px-4 text-center">
            <div class="flex items-center justify-center mb-4">
                <i class="fas fa-shield-alt text-blue-600 mr-2"></i>
                <span class="font-semibold text-gray-900">ClearNet ë³´ì•ˆ ì„œë¹„ìŠ¤</span>
            </div>
            <p class="text-gray-600 text-sm mb-2">
                24ì‹œê°„ ì‹¤ì‹œê°„ ìœ„í˜‘ íƒì§€ ë° ì°¨ë‹¨ ì„œë¹„ìŠ¤
            </p>
            <p class="text-gray-500 text-xs">
                &copy; 2024 ClearNet. ëª¨ë“  ê¶Œë¦¬ ë³´ìœ .
            </p>
        </div>
    </footer>

    <!-- ì‹ ê³  ëª¨ë‹¬ -->
    <div id="reportModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50" style="display: none;">
        <div class="bg-white rounded-lg shadow-xl max-w-md w-full mx-4">
            <div class="p-6">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="text-lg font-semibold text-gray-900">ì‚¬ì´íŠ¸ ì‹ ê³ </h3>
                    <button id="closeReportModal" class="text-gray-400 hover:text-gray-600">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                
                <div class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">ì¶”ê°€ ì •ë³´</label>
                        <textarea id="reportDetails" rows="3" 
                                  class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                  placeholder="ì´ ì‚¬ì´íŠ¸ì— ëŒ€í•œ ì¶”ê°€ ì •ë³´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”..."></textarea>
                    </div>
                    
                    <div class="flex space-x-3">
                        <button id="submitReport" 
                                class="flex-1 bg-red-600 text-white py-2 rounded-lg hover:bg-red-700 transition-colors">
                            ì‹ ê³  ì œì¶œ
                        </button>
                        <button id="cancelReport" 
                                class="flex-1 bg-gray-300 text-gray-700 py-2 rounded-lg hover:bg-gray-400 transition-colors">
                            ì·¨ì†Œ
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ì°¨ë‹¨ í˜ì´ì§€ JavaScript
        class BlockPageManager {
            constructor() {
                this.blockedUrl = '';
                this.threatData = null;
                this.init();
            }

            init() {
                this.loadBlockedSiteInfo();
                this.setupEventListeners();
                this.loadStatistics();
                this.updateUI();
            }

            loadBlockedSiteInfo() {
                // URL íŒŒë¼ë¯¸í„°ì—ì„œ ì°¨ë‹¨ëœ ì‚¬ì´íŠ¸ ì •ë³´ ë¡œë“œ
                const urlParams = new URLSearchParams(window.location.search);
                this.blockedUrl = urlParams.get('url') || 'example-malicious-site.com';
                
                const riskScore = parseInt(urlParams.get('risk')) || 85;
                const threatType = urlParams.get('type') || 'phishing';
                
                // ìœ„í˜‘ ë°ì´í„° ì„¤ì •
                this.threatData = {
                    url: this.blockedUrl,
                    riskScore: riskScore,
                    threatType: threatType,
                    factors: this.generateRiskFactors(threatType, riskScore)
                };
            }

            generateRiskFactors(type, score) {
                const factors = [];
                
                if (score >= 90) {
                    factors.push('ì•Œë ¤ì§„ ì•…ì„± ì‚¬ì´íŠ¸ ë°ì´í„°ë² ì´ìŠ¤ì— ë“±ë¡ë¨');
                }
                
                if (type === 'phishing') {
                    factors.push('í”¼ì‹± ì‚¬ì´íŠ¸ íŒ¨í„´ íƒì§€');
                    factors.push('ê°œì¸ì •ë³´ íƒˆì·¨ ì‹œë„ ê°ì§€');
                }
                
                if (score >= 80) {
                    factors.push('ì˜ì‹¬ìŠ¤ëŸ¬ìš´ ë„ë©”ì¸ êµ¬ì¡°');
                    factors.push('SSL ì¸ì¦ì„œ ë¬¸ì œ');
                }
                
                if (score >= 70) {
                    factors.push('ë‹¨ì¶• URL ë˜ëŠ” ë¦¬ë‹¤ì´ë ‰ì…˜ ì‚¬ìš©');
                    factors.push('ì•…ì„± ìŠ¤í¬ë¦½íŠ¸ íƒì§€');
                }
                
                return factors;
            }

            updateUI() {
                // ì°¨ë‹¨ëœ URL í‘œì‹œ
                document.getElementById('blockedUrl').textContent = this.threatData.url;
                
                // ìœ„í—˜ ë“±ê¸‰ ì„¤ì •
                this.updateThreatLevel();
                
                // ìœ„í—˜ ìš”ì†Œ í‘œì‹œ
                this.displayRiskFactors();
                
                // ìœ„í—˜ë„ ê²Œì´ì§€ ì—…ë°ì´íŠ¸
                this.updateRiskMeter();
            }

            updateThreatLevel() {
                const levelElement = document.getElementById('threatLevel');
                const score = this.threatData.riskScore;
                
                if (score >= 90) {
                    levelElement.textContent = 'ë§¤ìš° ë†’ì€ ìœ„í—˜ë„';
                    levelElement.className = 'inline-flex items-center px-4 py-2 bg-red-100 text-red-800 rounded-full text-sm font-semibold mb-4';
                } else if (score >= 70) {
                    levelElement.textContent = 'ë†’ì€ ìœ„í—˜ë„';
                    levelElement.className = 'inline-flex items-center px-4 py-2 bg-orange-100 text-orange-800 rounded-full text-sm font-semibold mb-4';
                } else {
                    levelElement.textContent = 'ë³´í†µ ìœ„í—˜ë„';
                    levelElement.className = 'inline-flex items-center px-4 py-2 bg-yellow-100 text-yellow-800 rounded-full text-sm font-semibold mb-4';
                }
            }

            displayRiskFactors() {
                const container = document.getElementById('riskFactors');
                container.innerHTML = '';
                
                this.threatData.factors.forEach(factor => {
                    const factorElement = document.createElement('div');
                    factorElement.className = 'flex items-start text-red-700 text-sm';
                    factorElement.innerHTML = `
                        <i class="fas fa-exclamation-circle text-red-500 mr-2 mt-0.5 flex-shrink-0"></i>
                        <span>${factor}</span>
                    `;
                    container.appendChild(factorElement);
                });
            }

            updateRiskMeter() {
                const meter = document.getElementById('riskMeter');
                const scoreElement = document.getElementById('riskScore');
                const score = this.threatData.riskScore;
                
                // ì ìˆ˜ í‘œì‹œ
                scoreElement.textContent = score + '%';
                
                // í”„ë¡œê·¸ë ˆìŠ¤ ë°” ìƒ‰ìƒ ë° ë„ˆë¹„ ì„¤ì •
                setTimeout(() => {
                    meter.style.width = score + '%';
                    
                    if (score >= 90) {
                        meter.className = 'progress-bar h-6 rounded-full flex items-center justify-end pr-2 threat-level-critical';
                    } else if (score >= 70) {
                        meter.className = 'progress-bar h-6 rounded-full flex items-center justify-end pr-2 threat-level-high';
                    } else {
                        meter.className = 'progress-bar h-6 rounded-full flex items-center justify-end pr-2 threat-level-medium';
                    }
                }, 500);
            }

            setupEventListeners() {
                // ëŒì•„ê°€ê¸° ë²„íŠ¼
                document.getElementById('goBack').addEventListener('click', () => {
                    window.history.back();
                });
                
                // í™ˆí˜ì´ì§€ ë²„íŠ¼
                document.getElementById('goHome').addEventListener('click', () => {
                    window.location.href = '/';
                });
                
                // ì‹ ê³  ë²„íŠ¼
                document.getElementById('reportSite').addEventListener('click', () => {
                    this.showReportModal();
                });
                
                // ê°•ì œ ì ‘ì† ì²´í¬ë°•ìŠ¤
                const checkboxes = ['acknowledgeRisk', 'acceptResponsibility'];
                checkboxes.forEach(id => {
                    document.getElementById(id).addEventListener('change', () => {
                        this.updateProceedButton();
                    });
                });
                
                // ê°•ì œ ì ‘ì† ë²„íŠ¼
                document.getElementById('proceedAnyway').addEventListener('click', () => {
                    this.proceedToSite();
                });
                
                // ì¬ê²€í†  ìš”ì²­ ë²„íŠ¼
                document.getElementById('requestReview').addEventListener('click', () => {
                    this.requestReview();
                });
                
                // ëª¨ë‹¬ ê´€ë ¨
                document.getElementById('closeReportModal').addEventListener('click', () => {
                    this.hideReportModal();
                });
                
                document.getElementById('cancelReport').addEventListener('click', () => {
                    this.hideReportModal();
                });
                
                document.getElementById('submitReport').addEventListener('click', () => {
                    this.submitReport();
                });
            }

            updateProceedButton() {
                const risk = document.getElementById('acknowledgeRisk').checked;
                const responsibility = document.getElementById('acceptResponsibility').checked;
                const button = document.getElementById('proceedAnyway');
                
                button.disabled = !(risk && responsibility);
            }

            proceedToSite() {
                const confirmed = confirm(
                    'âš ï¸ ìµœì¢… ê²½ê³  âš ï¸\n\n' +
                    'ì´ ì‚¬ì´íŠ¸ëŠ” ë§¤ìš° ìœ„í—˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n' +
                    'ê°œì¸ì •ë³´ ìœ ì¶œ, ì•…ì„±ì½”ë“œ ê°ì—¼, ê¸ˆìœµ í”¼í•´ê°€ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n' +
                    'ì •ë§ë¡œ ì ‘ì†í•˜ì‹œê² ìŠµë‹ˆê¹Œ?'
                );
                
                if (confirmed) {
                    // ê²½ê³  ë¡œê·¸ ê¸°ë¡
                    this.logForcedAccess();
                    
                    // ì‚¬ì´íŠ¸ë¡œ ì´ë™ (3ì´ˆ í›„)
                    const countdown = 3;
                    let current = countdown;
                    
                    const button = document.getElementById('proceedAnyway');
                    const originalText = button.innerHTML;
                    
                    const timer = setInterval(() => {
                        button.innerHTML = `<i class="fas fa-spinner fa-spin mr-1"></i>${current}ì´ˆ í›„ ì´ë™...`;
                        current--;
                        
                        if (current < 0) {
                            clearInterval(timer);
                            window.location.href = this.threatData.url;
                        }
                    }, 1000);
                }
            }

            logForcedAccess() {
                // ê°•ì œ ì ‘ì† ë¡œê·¸ ê¸°ë¡
                const logData = {
                    url: this.threatData.url,
                    riskScore: this.threatData.riskScore,
                    timestamp: new Date().toISOString(),
                    userAgent: navigator.userAgent,
                    forced: true
                };
                
                // ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì— ì €ì¥
                const logs = JSON.parse(localStorage.getItem('clearnet_forced_access') || '[]');
                logs.push(logData);
                localStorage.setItem('clearnet_forced_access', JSON.stringify(logs));
            }

            requestReview() {
                const reason = prompt('ì¬ê²€í†  ìš”ì²­ ì‚¬ìœ ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”:', 'ì´ ì‚¬ì´íŠ¸ëŠ” ì•ˆì „í•©ë‹ˆë‹¤');
                
                if (reason) {
                    // ì¬ê²€í†  ìš”ì²­ ì œì¶œ
                    alert('ì¬ê²€í†  ìš”ì²­ì´ ì œì¶œë˜ì—ˆìŠµë‹ˆë‹¤.\n24ì‹œê°„ ë‚´ì— ê²€í†  ê²°ê³¼ë¥¼ ì•Œë ¤ë“œë¦¬ê² ìŠµë‹ˆë‹¤.');
                    
                    // ì‹¤ì œë¡œëŠ” ì„œë²„ì— ìš”ì²­ ì „ì†¡
                    console.log('ì¬ê²€í†  ìš”ì²­:', {
                        url: this.threatData.url,
                        reason: reason,
                        timestamp: new Date().toISOString()
                    });
                }
            }

            showReportModal() {
                document.getElementById('reportModal').style.display = 'flex';
            }

            hideReportModal() {
                document.getElementById('reportModal').style.display = 'none';
                document.getElementById('reportDetails').value = '';
            }

            submitReport() {
                const details = document.getElementById('reportDetails').value;
                
                // ì‹ ê³  ì œì¶œ
                alert('ì‹ ê³ ê°€ ì ‘ìˆ˜ë˜ì—ˆìŠµë‹ˆë‹¤.\nì œê³µí•´ì£¼ì‹  ì •ë³´ë¥¼ ë°”íƒ•ìœ¼ë¡œ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì—…ë°ì´íŠ¸í•˜ê² ìŠµë‹ˆë‹¤.');
                
                // ì‹¤ì œë¡œëŠ” ì„œë²„ì— ì‹ ê³  ì „ì†¡
                console.log('ì‚¬ì´íŠ¸ ì‹ ê³ :', {
                    url: this.threatData.url,
                    details: details,
                    timestamp: new Date().toISOString()
                });
                
                this.hideReportModal();
            }

            loadStatistics() {
                // ì„ì‹œ í†µê³„ ë°ì´í„° (ì‹¤ì œë¡œëŠ” APIì—ì„œ ë¡œë“œ)
                const stats = {
                    totalBlocked: Math.floor(Math.random() * 10000) + 50000,
                    usersProtected: Math.floor(Math.random() * 5000) + 25000,
                    todayBlocks: Math.floor(Math.random() * 100) + 150
                };
                
                // ì• ë‹ˆë©”ì´ì…˜ê³¼ í•¨ê»˜ ìˆ«ì ì—…ë°ì´íŠ¸
                this.animateCounter('totalBlocked', stats.totalBlocked);
                this.animateCounter('usersProtected', stats.usersProtected);
                this.animateCounter('todayBlocks', stats.todayBlocks);
            }

            animateCounter(elementId, targetValue) {
                const element = document.getElementById(elementId);
                const duration = 2000; // 2ì´ˆ
                const steps = 60;
                const stepValue = targetValue / steps;
                let current = 0;
                
                const timer = setInterval(() => {
                    current += stepValue;
                    if (current >= targetValue) {
                        current = targetValue;
                        clearInterval(timer);
                    }
                    
                    element.textContent = Math.floor(current).toLocaleString();
                }, duration / steps);
            }
        }

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì´ˆê¸°í™”
        document.addEventListener('DOMContentLoaded', () => {
            new BlockPageManager();
        });
    </script>
</body>
</html>
